<html>
<head>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>
<script type="text/javascript">
var nodes = [
{name:'node1',value:20,color:5},
{name:'node2',value:10,color:2},
{name:'node3',value:5,color:1},
{name:'node4',value:15,color:9}
];
var links = [
{source:0,target:1,value:10},
{source:1,target:2,value:5},
{source:0,target:3,value:2}
];
 
var force = d3.layout.force()
  .charge(-300)
  .linkDistance(50)
  .size([500,500])
  .nodes(nodes)
  .links(links)
  .start();
   
  var svg = d3.select(document.body).append("svg")
  .attr("width", 500)
  .attr("height", 500);
   
  var nodeColor = d3.scale.category10();
  var radiusScale = d3.scale.linear().domain([0,20]).range([5,20]);
   
  var link = svg.selectAll("line.link")
  .data(links)
  .enter().append("line")
  .style('stroke', 'black')
  .style("stroke-width", function(d,i) {
    return d.value;
  });
 
var node = svg.selectAll("circle.node")
.data(nodes)
  .enter().append("circle")
  .attr("r", function(d) {
    return radiusScale(d.value);
  })
.style("fill", function(d,i) { return nodeColor(d.color); })
.call(force.drag);
 
force.on("tick", function() {
  link.attr("x1", function(d) { return d.source.x; })
  .attr("y1", function(d) { return d.source.y; })
  .attr("x2", function(d) { return d.target.x; })
  .attr("y2", function(d) { return d.target.y; });
 
node.attr("cx", function(d) { return d.x; })
  .attr("cy", function(d) { return d.y; });
})
 
</script>
</body>
 
</html>
